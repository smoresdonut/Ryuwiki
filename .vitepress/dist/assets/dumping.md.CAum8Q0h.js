import{_ as t,c as o,a2 as a,o as i}from"./chunks/framework.DPuwY6B9.js";const h=JSON.parse('{"title":"Dumping Firmware & Keys","description":"","frontmatter":{"outline":"deep","title":"Dumping Firmware & Keys"},"headers":[],"relativePath":"dumping.md","filePath":"dumping.md","lastUpdated":1730332808000}'),s={name:"dumping.md"};function r(n,e,l,d,c,p){return i(),o("div",null,e[0]||(e[0]=[a(`<h1 id="dumping-firmware-keys" tabindex="-1">Dumping Firmware &amp; Keys <a class="header-anchor" href="#dumping-firmware-keys" aria-label="Permalink to &quot;Dumping Firmware &amp; Keys&quot;">​</a></h1><h2 id="keys" tabindex="-1">Keys <a class="header-anchor" href="#keys" aria-label="Permalink to &quot;Keys&quot;">​</a></h2><p>Keys are required for decrypting most of the file formats used by the Nintendo Switch.</p><p>Keysets are stored as text files. These 2 filenames are automatically read:</p><ul><li><code>prod.keys</code> - Contains common keys used by all Nintendo Switch devices.</li><li><code>title.keys</code> - Contains game-specific keys.</li></ul><p>Ryujinx will first look for keys in <code>C:\\Users\\yourname\\AppData\\Roaming\\Ryujinx\\system</code>, Or <code>\\portable\\system</code> on a portable install. To access this directory, go to <code>File</code> &gt; <code>Open Ryujinx folder</code>, then click on <code>system</code>. If Ryujinx doesn&#39;t find any keys in those folders, it will look in <code>$HOME\\.switch</code>.</p><p>To dump your <code>prod.keys</code> and <code>title.keys</code> please follow these steps.</p><ol><li>First off <a href="https://nh-server.github.io/switch-guide/" target="_blank" rel="noreferrer">learn how to boot into RCM mode and inject payloads</a> if you haven&#39;t already.</li><li>Make sure you have an SD card with the latest release of <a href="https://github.com/Atmosphere-NX/Atmosphere/releases" target="_blank" rel="noreferrer">Atmosphere</a> inserted into your Nintendo Switch.</li><li>Download the latest release of Picklock_RCM/Lockpick_RCM.</li><li>Boot into RCM mode.</li><li>Inject the <code>Picklock_RCM</code>/<code>Lockpick_RCM.bin</code> that you have downloaded at <code>Step 3.</code> using your preferred payload injector. We recommend <a href="https://github.com/eliboa/TegraRcmGUI/releases" target="_blank" rel="noreferrer">TegraRCMGUI</a> as it is easy to use and has a decent feature set.</li><li>Using the <code>Vol+/-</code> buttons to navigate and the <code>Power</code> button to select, select <code>Dump from SysNAND | Key generation: X</code> (&quot;X&quot; depends on your Nintendo Switch&#39;s firmware version).</li><li>The dumping process may take a while depending on how many titles you have installed.</li><li>After its completion, press any button to return to the main menu of Picklock_RCM/Lockpick_RCM.</li><li>Navigate to and select <code>Power off</code> if you have an SD card reader. Or you could Navigate and select <code>Reboot (RCM)</code> if you want to mount your SD card using <code>TegraRCMGUI &gt; Tools &gt; Memloader V3 &gt; MMC - SD Card</code>.</li><li>You can find your keys in <code>sd:/switch/prod.keys</code> and <code>sd:/switch/title.keys</code> respectively.</li><li>Copy these files and paste them in your Ryujinx <code>system</code> folder. And you&#39;re done!</li></ol><h3 id="title-keys" tabindex="-1">Title keys <a class="header-anchor" href="#title-keys" aria-label="Permalink to &quot;Title keys&quot;">​</a></h3><p>These are only used for games that are not dumped from cartridges but from games downloaded from the Nintendo eShop. These are also only used if the eShop dump does <em>not</em> have a <code>ticket</code>. If the game does have a ticket, Ryujinx will read the key directly from that ticket.</p><p>Title keys are stored in the format <code>rights_id = key</code>.</p><p>For example:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>01000000000100000000000000000003 = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span></span>
<span class="line"><span>01000000000108000000000000000003 = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span></span>
<span class="line"><span>01000000000108000000000000000004 = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span></span></code></pre></div><h3 id="prod-keys" tabindex="-1">Prod keys <a class="header-anchor" href="#prod-keys" aria-label="Permalink to &quot;Prod keys&quot;">​</a></h3><p>These are typically used to decrypt system files and encrypted game files. These keys get changed in about every major system update, so make sure to keep your keys up-to-date if you want to play newer games!</p><h2 id="firmware" tabindex="-1">Firmware <a class="header-anchor" href="#firmware" aria-label="Permalink to &quot;Firmware&quot;">​</a></h2><p>Thanks to Candy for providing the guide details &amp; images. Loosely based off of <a href="https://nh-server.github.io/switch-guide/extras/updating/#updating-emummc-by-dumping-an-updated-firmware-from-your-sysmmc" target="_blank" rel="noreferrer">NH Switch Guide</a>.</p><p>What you will need:</p><ul><li>The latest release of <a href="https://github.com/suchmememanyskill/TegraExplorer/releases" target="_blank" rel="noreferrer">TegraExplorer</a> (the <code>.bin</code> file)</li></ul><hr><ol><li><p>Make sure your sysMMC is up to date. If your sysMMC is not up to date, update it through System Settings.</p></li><li><p>Boot your Switch into RCM.</p></li><li><p>Using a Payload Injector, such as TegraRcmGUI or fusee-interfacee-tk, inject the TegraExplorer.bin Payload (like you would with Hekate).</p></li></ol><p><img src="https://user-images.githubusercontent.com/28193374/205474096-25049c51-9659-4122-a4f1-c2fc2eb00a4d.png" alt="Screenshot 2022-12-03 at 10 45 13 PM"></p><ol start="4"><li>Using the joystick and the A buttons, select <code>FirmwareDump.te</code>.</li></ol><p><img src="https://user-images.githubusercontent.com/28193374/205474107-a103b5e8-6b31-42f2-ba34-a798172931cb.png" alt="Screenshot_0a75c7c9"></p><ol start="5"><li>Select <code>Dump sysmmc</code>.</li></ol><p><img src="https://user-images.githubusercontent.com/28193374/205474109-8c5fb59c-99c8-42a3-afbb-4da61865335b.png" alt="Screenshot_0ad4061c"></p><ol start="6"><li>Wait about 1-2 minutes for the tool to dump your firmware.</li></ol><p><img src="https://user-images.githubusercontent.com/28193374/205474110-14016849-477b-486b-989f-6b713ec9cc74.png" alt="Screenshot_0d9ca2b9"></p><ol start="7"><li><p>When the tool finishes, press any button.</p></li><li><p>Select <code>Power off</code>.</p></li></ol><p><img src="https://user-images.githubusercontent.com/28193374/205474112-5e6bcb81-a46e-40ff-85df-4edea0f0a66a.png" alt="Screenshot_2dec46de"></p><ol start="9"><li><p>Remove the SD card from your Switch, and insert it into your PC.</p></li><li><p>A folder containing your firmware should now exist at <code>/tegraexplorer/Firmware/&lt;version-number&gt;</code></p></li></ol><p><img src="https://user-images.githubusercontent.com/28193374/205474104-0aba8839-aee8-4ad9-bdbe-ac07e390d73a.png" alt="Screenshot 2022-12-03 at 11 09 38 PM"></p>`,32)]))}const m=t(s,[["render",r]]);export{h as __pageData,m as default};
